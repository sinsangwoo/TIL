# 2026-02-23

- [Project] Python mini OS simulator

## 📅 41일 차: 시스템 콜 인터페이스 설계

### 🎯 오늘의 목표
1. 프로세스가 단순 `burst_time`이 아닌 `behavior` 리스트를 가지도록 확장하여 CPU와 I/O 버스트를 흉내 낸다.
2. 프로세스가 시스템 콜을 요청하면, CPU가 `Trap`을 발생시키고 OS가 이를 잡아 프로세스를 `WAITING` 상태로 블록(Block)시킨다.

### 📝 배운 점 (TIL)
* **하위 호환성 설계:** `behavior=None`일 때 기존 `burst_time`을 리스트로 자동 변환해 주는 로직 덕분에, 기존 테스트 코드들을 하나도 수정하지 않고 시스템을 업그레이드할 수 있었다.
* **소프트웨어 인터럽트(Trap):** 프로세스는 직접 대기 큐로 갈 수 없다. 반드시 OS에게 "저 좀 재워주세요"라고 부탁해야만 상태가 변한다. 이것이 사용자 모드와 커널 모드의 분리다.

### 💥 트러블 슈팅
* **수정 1 :** self.remaining_time = burst_time 두 번째 줄 삭제 → behavior 기반 self.burst_time 값으로 통일
* **수정 2 :** Scheduling 직전에 I/O 카운트다운 + 완료 시 Ready 복귀 루프 추가
* **수정 3 :** global_time += 1; continue 추가 → [Run] 출력·remaining_time==0 검사와 충돌 방지